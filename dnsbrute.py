import sys
import dns.resolver

argumentos = sys.argv	# le os argumentos do comando
try:
    dominio = argumentos[1]
    lista = argumentos[2]
except:
    print("*Faltam argumentos no comando!*")
    sys.exit(1)

# abre a wordlist
try:
    arquivo = open(lista)
    linhas = arquivo.read().splitlines()
except:
    print("*Arquivo não encontrado ou inválido!*")
    sys.exit(1)

# para cada linha da wordlist testa o dns
for linha in linhas:
    subdominio = linha + '.' + dominio
    try:
        respostas = dns.resolver.query(subdominio, 'a')
        for resultado in respostas:
            print subdominio, resultado
    except:
        pass
        
        
#Whois
#whois example.comwhois 192.168.1.1

#Descoberta de host
#code:host example.com

#Criar wordlist para BRUTALFORCE(BF)
#code: nano wordlist.txt(exemplo da aula)

#Enumeração de DNS
#code: dnsenum example.comdnsenum subdomain.example.comdnsenum example.com -f wordlist.txt

